var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function i(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(e,t){e.appendChild(t)}function l(e,t,n){e.insertBefore(t,n||null)}function a(e){e.parentNode.removeChild(e)}function u(e){return document.createElement(e)}function c(e){return document.createTextNode(e)}function f(){return c(" ")}function h(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function p(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function g(e){return""===e?void 0:+e}function d(e,t){(null!=t||e.value)&&(e.value=t)}function m(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}class v{constructor(e,t=null){this.e=u("div"),this.a=t,this.u(e)}m(e,t=null){for(let n=0;n<this.n.length;n+=1)l(e,this.n[n],t);this.t=e}u(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}p(e){this.d(),this.u(e),this.m(this.t,this.a)}d(){this.n.forEach(a)}}let y;function b(e){y=e}const w=[],x=[],k=[],_=[],E=Promise.resolve();let S=!1;function $(e){k.push(e)}let C=!1;const T=new Set;function A(){if(!C){C=!0;do{for(let e=0;e<w.length;e+=1){const t=w[e];b(t),q(t.$$)}for(w.length=0;x.length;)x.pop()();for(let e=0;e<k.length;e+=1){const t=k[e];T.has(t)||(T.add(t),t())}k.length=0}while(w.length);for(;_.length;)_.pop()();S=!1,C=!1,T.clear()}}function q(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach($)}}const M=new Set;function O(e,t){e&&e.i&&(M.delete(e),e.i(t))}function N(e,t,n,r){if(e&&e.o){if(M.has(e))return;M.add(e),(void 0).c.push(()=>{M.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}function j(e){e&&e.c()}function R(e,n,o){const{fragment:s,on_mount:l,on_destroy:a,after_update:u}=e.$$;s&&s.m(n,o),$(()=>{const n=l.map(t).filter(i);a?a.push(...n):r(n),e.$$.on_mount=[]}),u.forEach($)}function z(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function L(e,t){-1===e.$$.dirty[0]&&(w.push(e),S||(S=!0,E.then(A)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function I(t,i,o,s,l,u,c=[-1]){const f=y;b(t);const h=i.props||{},p=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:c};let g=!1;if(p.ctx=o?o(t,h,(e,n,...r)=>{const i=r.length?r[0]:n;return p.ctx&&l(p.ctx[e],p.ctx[e]=i)&&(p.bound[e]&&p.bound[e](i),g&&L(t,e)),n}):[],p.update(),g=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);p.fragment&&p.fragment.l(e),e.forEach(a)}else p.fragment&&p.fragment.c();i.intro&&O(t.$$.fragment),R(t,i.target,i.anchor),A()}b(f)}class P{$destroy(){z(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}var B="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function D(e){e=e||{};this.Timeout=e.timeout||1,this.EditCost=e.editCost||4}D.prototype.main=function(e,t,n,r){void 0===r&&(r=this.Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Timeout);var i=r;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[[0,e]]:[];void 0===n&&(n=!0);var o=n,s=this.commonPrefix(e,t),l=e.substring(0,s);e=e.substring(s),t=t.substring(s),s=this.commonSuffix(e,t);var a=e.substring(e.length-s);e=e.substring(0,e.length-s),t=t.substring(0,t.length-s);var u=this.compute_(e,t,o,i);return l&&u.unshift([0,l]),a&&u.push([0,a]),this.cleanupMerge(u),u},D.prototype.compute_=function(e,t,n,r){var i;if(!e)return[[1,t]];if(!t)return[[-1,e]];var o=e.length>t.length?e:t,s=e.length>t.length?t:e,l=o.indexOf(s);if(-1!=l)return i=[[1,o.substring(0,l)],[0,s],[1,o.substring(l+s.length)]],e.length>t.length&&(i[0][0]=i[2][0]=-1),i;if(1==s.length)return[[-1,e],[1,t]];var a=this.halfMatch_(e,t);if(a){var u=a[0],c=a[1],f=a[2],h=a[3],p=a[4],g=this.main(u,f,n,r),d=this.main(c,h,n,r);return g.concat([[0,p]],d)}return n&&e.length>100&&t.length>100?this.lineMode_(e,t,r):this.bisect_(e,t,r)},D.prototype.lineMode_=function(e,t,n){e=(c=this.linesToChars_(e,t)).chars1,t=c.chars2;var r=c.lineArray,i=this.main(e,t,!1,n);this.charsToLines_(i,r),this.cleanupSemantic(i),i.push([0,""]);for(var o=0,s=0,l=0,a="",u="";o<i.length;){switch(i[o][0]){case 1:l++,u+=i[o][1];break;case-1:s++,a+=i[o][1];break;case 0:if(s>=1&&l>=1){i.splice(o-s-l,s+l),o=o-s-l;for(var c,f=(c=this.main(a,u,!1,n)).length-1;f>=0;f--)i.splice(o,0,c[f]);o+=c.length}l=0,s=0,a="",u=""}o++}return i.pop(),i},D.prototype.bisect_=function(e,t,n){for(var r=e.length,i=t.length,o=Math.ceil((r+i)/2),s=o,l=2*o,a=new Array(l),u=new Array(l),c=0;c<l;c++)a[c]=-1,u[c]=-1;a[s+1]=0,u[s+1]=0;for(var f=r-i,h=f%2!=0,p=0,g=0,d=0,m=0,v=0;v<o&&!((new Date).getTime()>n);v++){for(var y=-v+p;y<=v-g;y+=2){for(var b=s+y,w=(S=y==-v||y!=v&&a[b-1]<a[b+1]?a[b+1]:a[b-1]+1)-y;S<r&&w<i&&e.charAt(S)==t.charAt(w);)S++,w++;if(a[b]=S,S>r)g+=2;else if(w>i)p+=2;else if(h){if((_=s+f-y)>=0&&_<l&&-1!=u[_])if(S>=(k=r-u[_]))return this.bisectSplit_(e,t,S,w,n)}}for(var x=-v+d;x<=v-m;x+=2){for(var k,_=s+x,E=(k=x==-v||x!=v&&u[_-1]<u[_+1]?u[_+1]:u[_-1]+1)-x;k<r&&E<i&&e.charAt(r-k-1)==t.charAt(i-E-1);)k++,E++;if(u[_]=k,k>r)m+=2;else if(E>i)d+=2;else if(!h){if((b=s+f-x)>=0&&b<l&&-1!=a[b]){var S;w=s+(S=a[b])-b;if(S>=(k=r-k))return this.bisectSplit_(e,t,S,w,n)}}}}return[[-1,e],[1,t]]},D.prototype.bisectSplit_=function(e,t,n,r,i){var o=e.substring(0,n),s=t.substring(0,r),l=e.substring(n),a=t.substring(r),u=this.main(o,s,!1,i),c=this.main(l,a,!1,i);return u.concat(c)},D.prototype.linesToChars_=function(e,t){var n=[],r={};function i(e){for(var t="",i=0,o=-1,s=n.length;o<e.length-1;){-1==(o=e.indexOf("\n",i))&&(o=e.length-1);var l=e.substring(i,o+1);i=o+1,(r.hasOwnProperty?r.hasOwnProperty(l):void 0!==r[l])?t+=String.fromCharCode(r[l]):(t+=String.fromCharCode(s),r[l]=s,n[s++]=l)}return t}return n[0]="",{chars1:i(e),chars2:i(t),lineArray:n}},D.prototype.charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n][1],i=[],o=0;o<r.length;o++)i[o]=t[r.charCodeAt(o)];e[n][1]=i.join("")}},D.prototype.commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},D.prototype.commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},D.prototype.commonOverlap_=function(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var i=Math.min(n,r);if(e==t)return i;for(var o=0,s=1;;){var l=e.substring(i-s),a=t.indexOf(l);if(-1==a)return o;s+=a,0!=a&&e.substring(i-s)!=t.substring(0,s)||(o=s,s++)}},D.prototype.halfMatch_=function(e,t){if(this.Timeout<=0)return null;var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;var i=this;function o(e,t,n){for(var r,o,s,l,a=e.substring(n,n+Math.floor(e.length/4)),u=-1,c="";-1!=(u=t.indexOf(a,u+1));){var f=i.commonPrefix(e.substring(n),t.substring(u)),h=i.commonSuffix(e.substring(0,n),t.substring(0,u));c.length<h+f&&(c=t.substring(u-h,u)+t.substring(u,u+f),r=e.substring(0,n-h),o=e.substring(n+f),s=t.substring(0,u-h),l=t.substring(u+f))}return 2*c.length>=e.length?[r,o,s,l,c]:null}var s,l,a,u,c,f=o(n,r,Math.ceil(n.length/4)),h=o(n,r,Math.ceil(n.length/2));return f||h?(s=h?f&&f[4].length>h[4].length?f:h:f,e.length>t.length?(l=s[0],a=s[1],u=s[2],c=s[3]):(u=s[0],c=s[1],l=s[2],a=s[3]),[l,a,u,c,s[4]]):null},D.prototype.cleanupSemantic=function(e){for(var t=!1,n=[],r=0,i=null,o=0,s=0,l=0,a=0,u=0;o<e.length;)0==e[o][0]?(n[r++]=o,s=a,l=u,a=0,u=0,i=e[o][1]):(1==e[o][0]?a+=e[o][1].length:u+=e[o][1].length,i&&i.length<=Math.max(s,l)&&i.length<=Math.max(a,u)&&(e.splice(n[r-1],0,[-1,i]),e[n[r-1]+1][0]=1,r--,o=--r>0?n[r-1]:-1,s=0,l=0,a=0,u=0,i=null,t=!0)),o++;for(t&&this.cleanupMerge(e),this.cleanupSemanticLossless(e),o=1;o<e.length;){if(-1==e[o-1][0]&&1==e[o][0]){var c=e[o-1][1],f=e[o][1],h=this.commonOverlap_(c,f),p=this.commonOverlap_(f,c);h>=p?(h>=c.length/2||h>=f.length/2)&&(e.splice(o,0,[0,f.substring(0,h)]),e[o-1][1]=c.substring(0,c.length-h),e[o+1][1]=f.substring(h),o++):(p>=c.length/2||p>=f.length/2)&&(e.splice(o,0,[0,c.substring(0,p)]),e[o-1][0]=1,e[o-1][1]=f.substring(0,f.length-p),e[o+1][0]=-1,e[o+1][1]=c.substring(p),o++),o++}o++}},D.prototype.cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),r=t.charAt(0),i=n.match(D.nonAlphaNumericRegex_),o=r.match(D.nonAlphaNumericRegex_),s=i&&n.match(D.whitespaceRegex_),l=o&&r.match(D.whitespaceRegex_),a=s&&n.match(D.linebreakRegex_),u=l&&r.match(D.linebreakRegex_),c=a&&e.match(D.blanklineEndRegex_),f=u&&t.match(D.blanklineStartRegex_);return c||f?5:a||u?4:i&&!s&&l?3:s||l?2:i||o?1:0}for(var n=1;n<e.length-1;){if(0==e[n-1][0]&&0==e[n+1][0]){var r=e[n-1][1],i=e[n][1],o=e[n+1][1],s=this.commonSuffix(r,i);if(s){var l=i.substring(i.length-s);r=r.substring(0,r.length-s),i=l+i.substring(0,i.length-s),o=l+o}for(var a=r,u=i,c=o,f=t(r,i)+t(i,o);i.charAt(0)===o.charAt(0);){r+=i.charAt(0),i=i.substring(1)+o.charAt(0),o=o.substring(1);var h=t(r,i)+t(i,o);h>=f&&(f=h,a=r,u=i,c=o)}e[n-1][1]!=a&&(a?e[n-1][1]=a:(e.splice(n-1,1),n--),e[n][1]=u,c?e[n+1][1]=c:(e.splice(n+1,1),n--))}n++}},D.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,D.whitespaceRegex_=/\s/,D.linebreakRegex_=/[\r\n]/,D.blanklineEndRegex_=/\n\r?\n$/,D.blanklineStartRegex_=/^\r?\n\r?\n/,D.prototype.cleanupEfficiency=function(e){for(var t=!1,n=[],r=0,i=null,o=0,s=!1,l=!1,a=!1,u=!1;o<e.length;)0==e[o][0]?(e[o][1].length<this.EditCost&&(a||u)?(n[r++]=o,s=a,l=u,i=e[o][1]):(r=0,i=null),a=u=!1):(-1==e[o][0]?u=!0:a=!0,i&&(s&&l&&a&&u||i.length<this.EditCost/2&&s+l+a+u==3)&&(e.splice(n[r-1],0,[-1,i]),e[n[r-1]+1][0]=1,r--,i=null,s&&l?(a=u=!0,r=0):(o=--r>0?n[r-1]:-1,a=u=!1),t=!0)),o++;t&&this.cleanupMerge(e)},D.prototype.cleanupMerge=function(e){e.push([0,""]);for(var t,n=0,r=0,i=0,o="",s="";n<e.length;)switch(e[n][0]){case 1:i++,s+=e[n][1],n++;break;case-1:r++,o+=e[n][1],n++;break;case 0:r+i>1?(0!==r&&0!==i&&(0!==(t=this.commonPrefix(s,o))&&(n-r-i>0&&0==e[n-r-i-1][0]?e[n-r-i-1][1]+=s.substring(0,t):(e.splice(0,0,[0,s.substring(0,t)]),n++),s=s.substring(t),o=o.substring(t)),0!==(t=this.commonSuffix(s,o))&&(e[n][1]=s.substring(s.length-t)+e[n][1],s=s.substring(0,s.length-t),o=o.substring(0,o.length-t))),0===r?e.splice(n-i,r+i,[1,s]):0===i?e.splice(n-r,r+i,[-1,o]):e.splice(n-r-i,r+i,[-1,o],[1,s]),n=n-r-i+(r?1:0)+(i?1:0)+1):0!==n&&0==e[n-1][0]?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,i=0,r=0,o="",s=""}""===e[e.length-1][1]&&e.pop();var l=!1;for(n=1;n<e.length-1;)0==e[n-1][0]&&0==e[n+1][0]&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),l=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),l=!0)),n++;l&&this.cleanupMerge(e)},D.prototype.xIndex=function(e,t){var n,r=0,i=0,o=0,s=0;for(n=0;n<e.length&&(1!==e[n][0]&&(r+=e[n][1].length),-1!==e[n][0]&&(i+=e[n][1].length),!(r>t));n++)o=r,s=i;return e.length!=n&&-1===e[n][0]?s:s+(t-o)},D.prototype.prettyHtml=function(e){for(var t=[],n=/&/g,r=/</g,i=/>/g,o=/\n/g,s=0;s<e.length;s++){var l=e[s][0],a=e[s][1].replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(o,"<br/>");switch(l){case 1:t[s]="<ins>"+a+"</ins>";break;case-1:t[s]="<del>"+a+"</del>";break;case 0:t[s]="<span>"+a+"</span>"}}return t.join("")},D.prototype.text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},D.prototype.text2=function(e){for(var t=[],n=0;n<e.length;n++)-1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},D.prototype.levenshtein=function(e){for(var t=0,n=0,r=0,i=0;i<e.length;i++){var o=e[i][0],s=e[i][1];switch(o){case 1:n+=s.length;break;case-1:r+=s.length;break;case 0:t+=Math.max(n,r),n=0,r=0}}return t+=Math.max(n,r)},D.prototype.toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case 1:t[n]="+"+encodeURI(e[n][1]);break;case-1:t[n]="-"+e[n][1].length;break;case 0:t[n]="="+e[n][1].length}return t.join("\t").replace(/%20/g," ")},D.prototype.fromDelta=function(e,t){for(var n=[],r=0,i=0,o=t.split(/\t/g),s=0;s<o.length;s++){var l=o[s].substring(1);switch(o[s].charAt(0)){case"+":try{n[r++]=[1,decodeURI(l)]}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var a=parseInt(l,10);if(isNaN(a)||a<0)throw new Error("Invalid number in diff_fromDelta: "+l);var u=e.substring(i,i+=a);"="==o[s].charAt(0)?n[r++]=[0,u]:n[r++]=[-1,u];break;default:if(o[s])throw new Error("Invalid diff operation in diff_fromDelta: "+o[s])}}if(i!=e.length)throw new Error("Delta length ("+i+") does not equal source text length ("+e.length+").");return n},B.diff=D,B.DIFF_DELETE=-1,B.DIFF_INSERT=1,B.DIFF_EQUAL=0;var K=D;function U(t){let n;return{c(){n=u("a"),n.innerHTML='<svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0;\n    right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6\n      120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3\n      125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm svelte-9fn96p"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6\n      C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0\n      C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1\n      C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4\n      C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9\n      C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5\n      C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9\n      L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg>',p(n,"href","https://github.com/rickbergfalk/sql-limiter"),p(n,"class","github-corner svelte-9fn96p"),p(n,"aria-label","View source on GitHub")},m(e,t){l(e,n,t)},p:e,i:e,o:e,d(e){e&&a(n)}}}class F extends P{constructor(e){super(),I(this,e,null,U,o,{})}}var G=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t,n;t=B,n=function(){var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n="boolean"==typeof(new RegExp).sticky;function r(e){return e&&"[object RegExp]"===t.call(e)}function i(e){return e&&"object"==typeof e&&!r(e)&&!Array.isArray(e)}function o(e){return"("+e+")"}function s(e){return e.length?"(?:"+e.map((function(e){return"(?:"+e+")"})).join("|")+")":"(?!)"}function l(e){if("string"==typeof e)return"(?:"+e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+")";if(r(e)){if(e.ignoreCase)throw new Error("RegExp /i flag not allowed");if(e.global)throw new Error("RegExp /g flag is implied");if(e.sticky)throw new Error("RegExp /y flag is implied");if(e.multiline)throw new Error("RegExp /m flag is implied");return e.source}throw new Error("Not a pattern: "+e)}function a(t,n){if(i(n)||(n={match:n}),n.include)throw new Error("Matching rules cannot also include states");var o={defaultType:t,lineBreaks:!!n.error||!!n.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var s in n)e.call(n,s)&&(o[s]=n[s]);if("string"==typeof o.type&&t!==o.type)throw new Error("Type transform cannot be a string (type '"+o.type+"' for token '"+t+"')");var l=o.match;return o.match=Array.isArray(l)?l:l?[l]:[],o.match.sort((function(e,t){return r(e)&&r(t)?0:r(t)?-1:r(e)?1:t.length-e.length})),o}function u(e){return Array.isArray(e)?function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(r.include)for(var i=[].concat(r.include),o=0;o<i.length;o++)t.push({include:i[o]});else{if(!r.type)throw new Error("Rule has no type: "+JSON.stringify(r));t.push(a(r.type,r))}}return t}(e):function(e){for(var t=Object.getOwnPropertyNames(e),n=[],r=0;r<t.length;r++){var o=t[r],s=e[o],l=[].concat(s);if("include"!==o){var u=[];l.forEach((function(e){i(e)?(u.length&&n.push(a(o,u)),n.push(a(o,e)),u=[]):u.push(e)})),u.length&&n.push(a(o,u))}else for(var c=0;c<l.length;c++)n.push({include:l[c]})}return n}(e)}var c=a("error",{lineBreaks:!0,shouldThrow:!0});function f(e,t){for(var i=null,a=Object.create(null),u=!0,f=null,h=[],p=[],g=0;g<e.length;g++)e[g].fallback&&(u=!1);for(g=0;g<e.length;g++){var d=e[g];if(d.include)throw new Error("Inheritance is not allowed in stateless lexers");if(d.error||d.fallback){if(i)throw!d.fallback==!i.fallback?new Error("Multiple "+(d.fallback?"fallback":"error")+" rules not allowed (for token '"+d.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+d.defaultType+"')");i=d}var m=d.match.slice();if(u)for(;m.length&&"string"==typeof m[0]&&1===m[0].length;)a[m.shift().charCodeAt(0)]=d;if(d.pop||d.push||d.next){if(!t)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+d.defaultType+"')");if(d.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+d.defaultType+"')")}if(0!==m.length){u=!1,h.push(d);for(var v=0;v<m.length;v++){var y=m[v];if(r(y))if(null===f)f=y.unicode;else if(f!==y.unicode&&!1===d.fallback)throw new Error("If one rule is /u then all must be")}var b=s(m.map(l)),w=new RegExp(b);if(w.test(""))throw new Error("RegExp matches empty string: "+w);if(new RegExp("|"+b).exec("").length-1>0)throw new Error("RegExp has capture groups: "+w+"\nUse (?: … ) instead");if(!d.lineBreaks&&w.test("\n"))throw new Error("Rule should declare lineBreaks: "+w);p.push(o(b))}}var x=i&&i.fallback,k=n&&!x?"ym":"gm",_=n||x?"":"|";return!0===f&&(k+="u"),{regexp:new RegExp(s(p)+_,k),groups:h,fast:a,error:i||c}}function h(e,t,n){var r=e&&(e.push||e.next);if(r&&!n[r])throw new Error("Missing state '"+r+"' (in token '"+e.defaultType+"' of state '"+t+"')");if(e&&e.pop&&1!=+e.pop)throw new Error("pop must be 1 (in token '"+e.defaultType+"' of state '"+t+"')")}var p=function(e,t){this.startState=t,this.states=e,this.buffer="",this.stack=[],this.reset()};p.prototype.reset=function(e,t){return this.buffer=e||"",this.index=0,this.line=t?t.line:1,this.col=t?t.col:1,this.queuedToken=t?t.queuedToken:null,this.queuedThrow=t?t.queuedThrow:null,this.setState(t?t.state:this.startState),this.stack=t&&t.stack?t.stack.slice():[],this},p.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedThrow:this.queuedThrow}},p.prototype.setState=function(e){if(e&&this.state!==e){this.state=e;var t=this.states[e];this.groups=t.groups,this.error=t.error,this.re=t.regexp,this.fast=t.fast}},p.prototype.popState=function(){this.setState(this.stack.pop())},p.prototype.pushState=function(e){this.stack.push(this.state),this.setState(e)};var g=n?function(e,t){return e.exec(t)}:function(e,t){var n=e.exec(t);return 0===n[0].length?null:n};function d(){return this.value}if(p.prototype._getGroup=function(e){for(var t=this.groups.length,n=0;n<t;n++)if(void 0!==e[n+1])return this.groups[n];throw new Error("Cannot find token type for matched text")},p.prototype.next=function(){var e=this.index;if(this.queuedGroup){var t=this._token(this.queuedGroup,this.queuedText,e);return this.queuedGroup=null,this.queuedText="",t}var n=this.buffer;if(e!==n.length){if(s=this.fast[n.charCodeAt(e)])return this._token(s,n.charAt(e),e);var r=this.re;r.lastIndex=e;var i=g(r,n),o=this.error;if(null==i)return this._token(o,n.slice(e,n.length),e);var s=this._getGroup(i),l=i[0];return o.fallback&&i.index!==e?(this.queuedGroup=s,this.queuedText=l,this._token(o,n.slice(e,i.index),e)):this._token(s,l,e)}},p.prototype._token=function(e,t,n){var r=0;if(e.lineBreaks){var i=/\n/g,o=1;if("\n"===t)r=1;else for(;i.exec(t);)r++,o=i.lastIndex}var s={type:"function"==typeof e.type&&e.type(t)||e.defaultType,value:"function"==typeof e.value?e.value(t):t,text:t,toString:d,offset:n,lineBreaks:r,line:this.line,col:this.col},l=t.length;if(this.index+=l,this.line+=r,0!==r?this.col=l-o+1:this.col+=l,e.shouldThrow)throw new Error(this.formatError(s,"invalid syntax"));return e.pop?this.popState():e.push?this.pushState(e.push):e.next&&this.setState(e.next),s},"undefined"!=typeof Symbol&&Symbol.iterator){var m=function(e){this.lexer=e};m.prototype.next=function(){var e=this.lexer.next();return{value:e,done:!e}},m.prototype[Symbol.iterator]=function(){return this},p.prototype[Symbol.iterator]=function(){return new m(this)}}return p.prototype.formatError=function(e,t){if(null==e){var n=this.buffer.slice(this.index);e={text:n,offset:this.index,lineBreaks:-1===n.indexOf("\n")?0:1,line:this.line,col:this.col}}var r=Math.max(0,e.offset-e.col+1),i=e.lineBreaks?e.text.indexOf("\n"):e.text.length,o=this.buffer.substring(r,e.offset+i);return t+=" at line "+e.line+" col "+e.col+":\n\n",t+="  "+o+"\n",t+="  "+Array(e.col).join(" ")+"^"},p.prototype.clone=function(){return new p(this.states,this.state)},p.prototype.has=function(e){return!0},{compile:function(e){var t=f(u(e));return new p({start:t},"start")},states:function(e,t){var n=e.$all?u(e.$all):[];delete e.$all;var r=Object.getOwnPropertyNames(e);t||(t=r[0]);for(var i=Object.create(null),o=0;o<r.length;o++)i[b=r[o]]=u(e[b]).concat(n);for(o=0;o<r.length;o++)for(var s=i[b=r[o]],l=Object.create(null),a=0;a<s.length;a++){var c=s[a];if(c.include){var g=[a,1];if(c.include!==b&&!l[c.include]){l[c.include]=!0;var d=i[c.include];if(!d)throw new Error("Cannot include nonexistent state '"+c.include+"' (in state '"+b+"')");for(var m=0;m<d.length;m++){var v=d[m];-1===s.indexOf(v)&&g.push(v)}}s.splice.apply(s,g),a--}}var y=Object.create(null);for(o=0;o<r.length;o++){var b;y[b=r[o]]=f(i[b],!0)}for(o=0;o<r.length;o++){var w=r[o],x=y[w],k=x.groups;for(a=0;a<k.length;a++)h(k[a],w,y);var _=Object.getOwnPropertyNames(x.fast);for(a=0;a<_.length;a++)h(x.fast[_[a]],w,y)}return new p(y,t)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function(e){for(var t=Object.create(null),n=Object.create(null),r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var o=r[i],s=e[o];(Array.isArray(s)?s:[s]).forEach((function(e){if((n[e.length]=n[e.length]||[]).push(e),"string"!=typeof e)throw new Error("keyword must be string (in keyword '"+o+"')");t[e]=o}))}function l(e){return JSON.stringify(e)}var a="";for(var u in a+="switch (value.length) {\n",n){var c=n[u];a+="case "+u+":\n",a+="switch (value) {\n",c.forEach((function(e){var n=t[e];a+="case "+l(e)+": return "+l(n)+"\n"})),a+="}\n"}return a+="}\n",Function("value",a)}}},e.exports?e.exports=n():t.moo=n()}));const H=G.compile({whitespace:[/[ \t]+/,{match:/\n/,lineBreaks:!0}],comment:[/--.*?$/,/\/\*[^]*?\*\//],lparen:"(",rparen:")",comma:",",period:".",number:/0|[1-9][0-9]*/,terminator:[";","\\g"],quotedIdentifier:[{match:/".*?"/,value:e=>e.slice(1,-1)},{match:/\[.*?\]/,value:e=>e.slice(1,-1)}],string:/'(?:\\['\\]|[^\n'\\])*'/,identifier:{match:/[a-zA-Z_0-9]+/,type:(e=>{const t=G.keywords(e);return e=>t(e.toLowerCase())})({keyword:["absolute","action","ada","add","all","allocate","alter","and","any","are","as","asc","assertion","at","authorization","avg","backup","begin","between","bit_length","bit","both","break","browse","bulk","by","cascade","cascaded","case","cast","catalog","char_length","char","character_length","character","check","checkpoint","close","clustered","coalesce","collate","collation","column","commit","compute","connect","connection","constraint","constraints","contains","containstable","continue","convert","corresponding","count","create","cross","current_date","current_time","current_timestamp","current_user","current","cursor","database","date","day","dbcc","deallocate","dec","decimal","declare","default","deferrable","deferred","delete","deny","desc","describe","descriptor","diagnostics","disconnect","disk","distinct","distributed","domain","double","drop","dump","else","end-exec","end","errlvl","escape","except","exception","exec","execute","exists","exit","external","extract","false","fetch","file","fillfactor","first","float","for","foreign","fortran","found","freetext","freetexttable","from","full","function","get","global","go","goto","grant","group","having","holdlock","hour","identity_insert","identity","identitycol","if","immediate","in","include","index","indicator","initially","inner","input","insensitive","insert","int","integer","intersect","interval","into","is","isolation","join","key","kill","language","last","leading","left","level","like","limit","lineno","load","local","locked","lower","match","max","merge","min","minute","module","month","names","national","natural","nchar","next","no","nocheck","nonclustered","none","not","nowait","null","nullif","numeric","octet_length","of","off","offset","offsets","on","only","open","opendatasource","openquery","openrowset","openxml","option","or","order","outer","output","over","overlaps","pad","partial","pascal","percent","pivot","plan","position","precision","prepare","preserve","primary","print","prior","privileges","proc","procedure","public","raiserror","read","readtext","real","reconfigure","references","relative","replication","restore","restrict","return","revert","revoke","right","right","rollback","row","rowcount","rowguidcol","rows","rule","save","schema","scroll","second","section","securityaudit","select","semantickeyphrasetable","semanticsimilaritydetailstable","semanticsimilaritytable","session_user","session","set","setuser","share","shutdown","size","skip","smallint","some","space","sql","sqlca","sqlcode","sqlerror","sqlstate","sqlwarning","statistics","substring","sum","system_user","table","tablesample","temporary","textsize","then","time","timestamp","timezone_hour","timezone_minute","to","top","trailing","tran","transaction","translate","translation","trigger","trim","true","truncate","try_convert","tsequal","union","unique","unknown","unpivot","update","updatetext","upper","usage","use","user","using","value","values","varchar","varying","view","waitfor","when","whenever","where","while","with","within group","work","write","writetext","year","zone"]}),value:e=>e.toLowerCase()},operator:{match:/[<>~!@#$%^?&|`*\-{}+=:/\\[\]]+/,lineBreaks:!1}});var Z=function(e){const t=[];H.reset(e);let n=H.next();for(;n;)t.push(n),n=H.next();return t};var J=function(e){const t=Z(e),n=[];let r=[];return t.forEach(e=>{r.push(e),"terminator"===e.type&&(n.push(r),r=[])}),r.length&&n.push(r),n},V={singleSpace:()=>({type:"whitespace",text:" ",value:" "}),keyword:e=>({type:"keyword",text:e,value:e.toLowerCase()}),number:e=>({type:"number",text:""+e,value:e})};var Q=function(e=[]){let t,n,r=0,i="";for(let o=0;o<e.length;o++){const s=e[o];"lparen"===s.type?r++:"rparen"===s.type?r--:"keyword"===s.type&&(void 0===t&&(t=r),i||t!==r||"with"===s.value||"as"===s.value||(i=s.value,n=o,o=e.length))}return{statementkeywordIndex:n,statementKeyword:i,targetParenLevel:t}};function X(e,t,n){let r=0;for(let i=t;i<e.length;i++){const t=e[i];if("lparen"===t.type)r++;else if("rparen"===t.type)r--;else if(0===r&&n(t))return{...t,index:i}}return null}function W(e,t){return function(e,t,n){for(let r=t;r<e.length;r++){const t=e[r];if(n(t))return{...t,index:r}}return null}(e,t,e=>"whitespace"!==e.type&&"comment"!==e.type)}function Y(e,t){let n=0;for(let r=e.length-1;r>=0;r--){const i=e[r];if(n===t&&"comment"!==i.type&&"whitespace"!==i.type)return r+1;"rparen"===i.type?n++:"lparen"===i.type&&n--}throw new Error("Unexpected index")}var ee=function(e,t,n){const r="string"==typeof t?[t]:t;if(!Array.isArray(r))throw new Error("limit strategies must be array or string");const{statementKeyword:i,statementkeywordIndex:o,targetParenLevel:s}=Q(e);if("select"!==i)return e;if(r.includes("limit")){const t=function(e,t){const n=X(e,t,e=>"keyword"===e.type&&"limit"===e.value);if(!n)return null;const r=W(e,n.index+1);if(!r)throw new Error("Unexpected end of statement");if("number"!==r.type)throw new Error("Expected number got "+r.type);return{limitKeywordToken:n,limitNumberToken:r}}(e,o);if(t){const{limitNumberToken:r}=t;if(parseInt(r.value,10)>n){const t=e.slice(0,r.index),i=e.slice(r.index+1);return[...t,{...r,text:n,value:n},...i]}return e}}if(r.includes("fetch")){const t=function(e,t){const n=X(e,t,e=>"keyword"===e.type&&"fetch"===e.value);if(!n)return null;let r=W(e,n.index+1);if(!r)throw new Error("Unexpected end of statement");if("keyword"!==r.type||"next"!==r.value&&"first"!==r.value)throw new Error(`Unexpected token: ${r.type} ${r.value}`);if(r=W(e,r.index+1),!r)throw new Error("Unexpected end of statement");if("number"!==r.type)throw new Error("Expected number got "+r.type);return{fetchKeywordToken:n,fetchNumberToken:r}}(e,o);if(t){const{fetchNumberToken:r}=t;if(parseInt(r.value,10)>n){const t=e.slice(0,r.index),i=e.slice(r.index+1);return[...t,{...r,text:n,value:n},...i]}return e}}const l=r[0];return"limit"===l?function(e,t,n,r){const i=X(e,t,e=>"keyword"===e.type&&("offset"===e.value||"for"===e.value));if(i){const t=e.slice(0,i.index),n=e.slice(i.index);return[...t,V.keyword("limit"),V.singleSpace(),V.number(r),V.singleSpace(),...n]}const o=X(e,t,e=>"terminator"===e.type);if(o){const t=e.slice(0,o.index),n=e.slice(o.index);return[...t,V.singleSpace(),V.keyword("limit"),V.singleSpace(),V.number(r),...n]}const s=Y(e,n),l=e.slice(0,s),a=e.slice(s);return[...l,V.singleSpace(),V.keyword("limit"),V.singleSpace(),V.number(r),...a]}(e,o,s,n):"fetch"===l?function(e,t,n,r){const i=X(e,t,e=>"keyword"===e.type&&"for"===e.value),o=[V.keyword("fetch"),V.singleSpace(),V.keyword("first"),V.singleSpace(),V.number(r),V.singleSpace(),V.keyword("rows"),V.singleSpace(),V.keyword("only")];if(i){const t=e.slice(0,i.index),n=e.slice(i.index);return[...t,...o,V.singleSpace(),...n]}const s=X(e,t,e=>"terminator"===e.type);if(s){const t=e.slice(0,s.index),n=e.slice(s.index);return[...t,V.singleSpace(),...o,...n]}const l=Y(e,n),a=e.slice(0,l),u=e.slice(l);return[...a,V.singleSpace(),...o,...u]}(e,o,s,n):[]};const te=["limit","fetch"];var ne={limit:function(e,t,n){if("string"!=typeof e)throw new Error("sqlText must be string");if("number"!=typeof n)throw new Error("limitNumber must be number");let r="string"==typeof t?[t]:t;if(!Array.isArray(r))throw new Error("limitStrategies must be an array or string");r=r.map(e=>e.toLowerCase()),r.forEach(e=>{if(!te.includes(e))throw new Error("limitStrategies must be one of "+te.join(", "))});let i="";return J(e).forEach(e=>{let t=[];t=ee(e,r,n),i+=t.map(e=>e.text).join("")}),i},getStatements:function(e){if("string"!=typeof e)throw new Error("sqlText must be string");return J(e).map(e=>e.map(e=>e.text).join(""))},removeTerminator:function(e){if("string"!=typeof e)throw new Error("sqlText must be string");const t=J(e).map(e=>e.filter(e=>"terminator"!==e.type).map(e=>e.text).join("")).filter(e=>""!==e.trim());if(t.length>1)throw new Error("Multiple statements detected");return t[0]}};function re(e){let t;return{c(){t=new v(e[0],null)},m(e,n){t.m(e,n)},p(e,n){1&n&&t.p(e[0])},d(e){e&&t.d()}}}function ie(e){let t,n;return{c(){t=u("span"),n=c(e[1]),p(t,"class","error svelte-uyagut")},m(e,r){l(e,t,r),s(t,n)},p(e,t){2&t&&function(e,t){t=""+t,e.data!==t&&(e.data=t)}(n,e[1])},d(e){e&&a(t)}}}function oe(t){let n;function r(e,t){return e[1]?ie:re}let i=r(t),o=i(t);return{c(){o.c(),n=c("")},m(e,t){o.m(e,t),l(e,n,t)},p(e,[t]){i===(i=r(e))&&o?o.p(e,t):(o.d(1),o=i(e),o&&(o.c(),o.m(n.parentNode,n)))},i:e,o:e,d(e){o.d(e),e&&a(n)}}}function se(e,t,n){let r,i,o,s,{sql:l=""}=t,{limitKeywords:a=""}=t,{limitNumber:u=100}=t,c=new K,f="";return e.$set=e=>{"sql"in e&&n(2,l=e.sql),"limitKeywords"in e&&n(3,a=e.limitKeywords),"limitNumber"in e&&n(4,u=e.limitNumber)},e.$$.update=()=>{if(252&e.$$.dirty)try{n(1,o=null),"limit"===a||"fetch"===a?n(7,s=[a]):"limit-fetch"===a?n(7,s=["limit","fetch"]):"fetch-limit"===a&&n(7,s=["fetch","limit"]),n(5,f=ne.limit(l,s,u)),n(6,r=c.main(l,f)),n(0,i=c.prettyHtml(r))}catch(e){n(1,o=e)}},[i,o,l,a,u]}class le extends P{constructor(e){super(),I(this,e,se,oe,o,{sql:2,limitKeywords:3,limitNumber:4})}}function ae(e){let t,n,i,o,c,v,y,b,w,x,k,_,E,S,C,T,A,q,M,L,I,P,B,D,K,U,G,H,Z,J,V;const Q=new F({}),X=new le({props:{sql:e[2],limitKeywords:e[0],limitNumber:e[1]}});return{c(){t=u("main"),j(Q.$$.fragment),n=f(),i=u("div"),i.innerHTML='<div class="col-100 m8 svelte-1onae4z"><h1 class="svelte-1onae4z">sql-limiter</h1></div>',o=f(),c=u("div"),v=u("div"),y=u("label"),y.textContent="limit strategy",b=f(),w=u("select"),x=u("option"),x.textContent="limit",k=u("option"),k.textContent="fetch",_=u("option"),_.textContent="fetch, limit",E=u("option"),E.textContent="limit, fetch",S=f(),C=u("div"),T=u("label"),T.textContent="limit number",A=f(),q=u("input"),M=f(),L=u("div"),I=u("div"),P=u("label"),P.textContent="input",B=f(),D=u("textarea"),K=f(),U=u("div"),G=u("label"),G.textContent="result",H=f(),Z=u("pre"),j(X.$$.fragment),p(i,"class","row svelte-1onae4z"),p(y,"for","limit-keyword"),p(y,"class","svelte-1onae4z"),x.__value="limit",x.value=x.__value,k.__value="fetch",k.value=k.__value,_.__value="fetch-limit",_.value=_.__value,E.__value="limit-fetch",E.value=E.__value,p(w,"id","limit-keyword"),p(w,"class","input svelte-1onae4z"),void 0===e[0]&&$(()=>e[3].call(w)),p(v,"class","m8 svelte-1onae4z"),p(T,"for","limit-number"),p(T,"class","svelte-1onae4z"),p(q,"id","limit-number"),p(q,"class","input svelte-1onae4z"),p(q,"type","number"),p(C,"class","m8 svelte-1onae4z"),p(c,"class","row svelte-1onae4z"),p(P,"for","sql-in"),p(P,"class","svelte-1onae4z"),p(D,"id","sql-in"),p(D,"class","sql svelte-1onae4z"),p(D,"rows","15"),p(I,"class","col-50 m8 svelte-1onae4z"),p(G,"class","svelte-1onae4z"),p(Z,"class","sql out svelte-1onae4z"),p(U,"class","col-50 m8 svelte-1onae4z"),p(L,"class","row svelte-1onae4z")},m(a,u,f){l(a,t,u),R(Q,t,null),s(t,n),s(t,i),s(t,o),s(t,c),s(c,v),s(v,y),s(v,b),s(v,w),s(w,x),s(w,k),s(w,_),s(w,E),m(w,e[0]),s(c,S),s(c,C),s(C,T),s(C,A),s(C,q),d(q,e[1]),s(t,M),s(t,L),s(L,I),s(I,P),s(I,B),s(I,D),d(D,e[2]),s(L,K),s(L,U),s(U,G),s(U,H),s(U,Z),R(X,Z,null),J=!0,f&&r(V),V=[h(w,"change",e[3]),h(q,"input",e[4]),h(D,"input",e[5])]},p(e,[t]){1&t&&m(w,e[0]),2&t&&g(q.value)!==e[1]&&d(q,e[1]),4&t&&d(D,e[2]);const n={};4&t&&(n.sql=e[2]),1&t&&(n.limitKeywords=e[0]),2&t&&(n.limitNumber=e[1]),X.$set(n)},i(e){J||(O(Q.$$.fragment,e),O(X.$$.fragment,e),J=!0)},o(e){N(Q.$$.fragment,e),N(X.$$.fragment,e),J=!1},d(e){e&&a(t),z(Q),z(X),r(V)}}}function ue(e,t,n){let r="limit-fetch",i=100,o="SELECT * FROM some_table;";return[r,i,o,function(){r=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(0,r)},function(){i=g(this.value),n(1,i)},function(){o=this.value,n(2,o)}]}return new class extends P{constructor(e){super(),I(this,e,ue,ae,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map

var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function i(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(e,t){e.appendChild(t)}function l(e,t,n){e.insertBefore(t,n||null)}function a(e){e.parentNode.removeChild(e)}function u(e){return document.createElement(e)}function c(e){return document.createTextNode(e)}function h(){return c(" ")}function f(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function p(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function g(e){return""===e?void 0:+e}function d(e,t){(null!=t||e.value)&&(e.value=t)}function m(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}class v{constructor(e,t=null){this.e=u("div"),this.a=t,this.u(e)}m(e,t=null){for(let n=0;n<this.n.length;n+=1)l(e,this.n[n],t);this.t=e}u(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}p(e){this.d(),this.u(e),this.m(this.t,this.a)}d(){this.n.forEach(a)}}let y;function b(e){y=e}const w=[],x=[],k=[],_=[],E=Promise.resolve();let $=!1;function C(e){k.push(e)}let T=!1;const A=new Set;function S(){if(!T){T=!0;do{for(let e=0;e<w.length;e+=1){const t=w[e];b(t),q(t.$$)}for(w.length=0;x.length;)x.pop()();for(let e=0;e<k.length;e+=1){const t=k[e];A.has(t)||(A.add(t),t())}k.length=0}while(w.length);for(;_.length;)_.pop()();$=!1,T=!1,A.clear()}}function q(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(C)}}const O=new Set;function M(e,t){e&&e.i&&(O.delete(e),e.i(t))}function j(e,t,n,r){if(e&&e.o){if(O.has(e))return;O.add(e),(void 0).c.push(()=>{O.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}function R(e){e&&e.c()}function L(e,n,o){const{fragment:s,on_mount:l,on_destroy:a,after_update:u}=e.$$;s&&s.m(n,o),C(()=>{const n=l.map(t).filter(i);a?a.push(...n):r(n),e.$$.on_mount=[]}),u.forEach(C)}function z(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function N(e,t){-1===e.$$.dirty[0]&&(w.push(e),$||($=!0,E.then(S)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function I(t,i,o,s,l,u,c=[-1]){const h=y;b(t);const f=i.props||{},p=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:[]),callbacks:n(),dirty:c};let g=!1;if(p.ctx=o?o(t,f,(e,n,...r)=>{const i=r.length?r[0]:n;return p.ctx&&l(p.ctx[e],p.ctx[e]=i)&&(p.bound[e]&&p.bound[e](i),g&&N(t,e)),n}):[],p.update(),g=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);p.fragment&&p.fragment.l(e),e.forEach(a)}else p.fragment&&p.fragment.c();i.intro&&M(t.$$.fragment),L(t,i.target,i.anchor),S()}b(h)}class P{$destroy(){z(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}var B="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var D=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t,n;t=B,n=function(){var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n="boolean"==typeof(new RegExp).sticky;function r(e){return e&&"[object RegExp]"===t.call(e)}function i(e){return e&&"object"==typeof e&&!r(e)&&!Array.isArray(e)}function o(e){return"("+e+")"}function s(e){return e.length?"(?:"+e.map((function(e){return"(?:"+e+")"})).join("|")+")":"(?!)"}function l(e){if("string"==typeof e)return"(?:"+e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+")";if(r(e)){if(e.ignoreCase)throw new Error("RegExp /i flag not allowed");if(e.global)throw new Error("RegExp /g flag is implied");if(e.sticky)throw new Error("RegExp /y flag is implied");if(e.multiline)throw new Error("RegExp /m flag is implied");return e.source}throw new Error("Not a pattern: "+e)}function a(t,n){if(i(n)||(n={match:n}),n.include)throw new Error("Matching rules cannot also include states");var o={defaultType:t,lineBreaks:!!n.error||!!n.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var s in n)e.call(n,s)&&(o[s]=n[s]);if("string"==typeof o.type&&t!==o.type)throw new Error("Type transform cannot be a string (type '"+o.type+"' for token '"+t+"')");var l=o.match;return o.match=Array.isArray(l)?l:l?[l]:[],o.match.sort((function(e,t){return r(e)&&r(t)?0:r(t)?-1:r(e)?1:t.length-e.length})),o}function u(e){return Array.isArray(e)?function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(r.include)for(var i=[].concat(r.include),o=0;o<i.length;o++)t.push({include:i[o]});else{if(!r.type)throw new Error("Rule has no type: "+JSON.stringify(r));t.push(a(r.type,r))}}return t}(e):function(e){for(var t=Object.getOwnPropertyNames(e),n=[],r=0;r<t.length;r++){var o=t[r],s=e[o],l=[].concat(s);if("include"!==o){var u=[];l.forEach((function(e){i(e)?(u.length&&n.push(a(o,u)),n.push(a(o,e)),u=[]):u.push(e)})),u.length&&n.push(a(o,u))}else for(var c=0;c<l.length;c++)n.push({include:l[c]})}return n}(e)}var c=a("error",{lineBreaks:!0,shouldThrow:!0});function h(e,t){for(var i=null,a=Object.create(null),u=!0,h=null,f=[],p=[],g=0;g<e.length;g++)e[g].fallback&&(u=!1);for(g=0;g<e.length;g++){var d=e[g];if(d.include)throw new Error("Inheritance is not allowed in stateless lexers");if(d.error||d.fallback){if(i)throw!d.fallback==!i.fallback?new Error("Multiple "+(d.fallback?"fallback":"error")+" rules not allowed (for token '"+d.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+d.defaultType+"')");i=d}var m=d.match.slice();if(u)for(;m.length&&"string"==typeof m[0]&&1===m[0].length;)a[m.shift().charCodeAt(0)]=d;if(d.pop||d.push||d.next){if(!t)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+d.defaultType+"')");if(d.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+d.defaultType+"')")}if(0!==m.length){u=!1,f.push(d);for(var v=0;v<m.length;v++){var y=m[v];if(r(y))if(null===h)h=y.unicode;else if(h!==y.unicode&&!1===d.fallback)throw new Error("If one rule is /u then all must be")}var b=s(m.map(l)),w=new RegExp(b);if(w.test(""))throw new Error("RegExp matches empty string: "+w);if(new RegExp("|"+b).exec("").length-1>0)throw new Error("RegExp has capture groups: "+w+"\nUse (?: â€¦ ) instead");if(!d.lineBreaks&&w.test("\n"))throw new Error("Rule should declare lineBreaks: "+w);p.push(o(b))}}var x=i&&i.fallback,k=n&&!x?"ym":"gm",_=n||x?"":"|";return!0===h&&(k+="u"),{regexp:new RegExp(s(p)+_,k),groups:f,fast:a,error:i||c}}function f(e,t,n){var r=e&&(e.push||e.next);if(r&&!n[r])throw new Error("Missing state '"+r+"' (in token '"+e.defaultType+"' of state '"+t+"')");if(e&&e.pop&&1!=+e.pop)throw new Error("pop must be 1 (in token '"+e.defaultType+"' of state '"+t+"')")}var p=function(e,t){this.startState=t,this.states=e,this.buffer="",this.stack=[],this.reset()};p.prototype.reset=function(e,t){return this.buffer=e||"",this.index=0,this.line=t?t.line:1,this.col=t?t.col:1,this.queuedToken=t?t.queuedToken:null,this.queuedThrow=t?t.queuedThrow:null,this.setState(t?t.state:this.startState),this.stack=t&&t.stack?t.stack.slice():[],this},p.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedThrow:this.queuedThrow}},p.prototype.setState=function(e){if(e&&this.state!==e){this.state=e;var t=this.states[e];this.groups=t.groups,this.error=t.error,this.re=t.regexp,this.fast=t.fast}},p.prototype.popState=function(){this.setState(this.stack.pop())},p.prototype.pushState=function(e){this.stack.push(this.state),this.setState(e)};var g=n?function(e,t){return e.exec(t)}:function(e,t){var n=e.exec(t);return 0===n[0].length?null:n};function d(){return this.value}if(p.prototype._getGroup=function(e){for(var t=this.groups.length,n=0;n<t;n++)if(void 0!==e[n+1])return this.groups[n];throw new Error("Cannot find token type for matched text")},p.prototype.next=function(){var e=this.index;if(this.queuedGroup){var t=this._token(this.queuedGroup,this.queuedText,e);return this.queuedGroup=null,this.queuedText="",t}var n=this.buffer;if(e!==n.length){if(s=this.fast[n.charCodeAt(e)])return this._token(s,n.charAt(e),e);var r=this.re;r.lastIndex=e;var i=g(r,n),o=this.error;if(null==i)return this._token(o,n.slice(e,n.length),e);var s=this._getGroup(i),l=i[0];return o.fallback&&i.index!==e?(this.queuedGroup=s,this.queuedText=l,this._token(o,n.slice(e,i.index),e)):this._token(s,l,e)}},p.prototype._token=function(e,t,n){var r=0;if(e.lineBreaks){var i=/\n/g,o=1;if("\n"===t)r=1;else for(;i.exec(t);)r++,o=i.lastIndex}var s={type:"function"==typeof e.type&&e.type(t)||e.defaultType,value:"function"==typeof e.value?e.value(t):t,text:t,toString:d,offset:n,lineBreaks:r,line:this.line,col:this.col},l=t.length;if(this.index+=l,this.line+=r,0!==r?this.col=l-o+1:this.col+=l,e.shouldThrow)throw new Error(this.formatError(s,"invalid syntax"));return e.pop?this.popState():e.push?this.pushState(e.push):e.next&&this.setState(e.next),s},"undefined"!=typeof Symbol&&Symbol.iterator){var m=function(e){this.lexer=e};m.prototype.next=function(){var e=this.lexer.next();return{value:e,done:!e}},m.prototype[Symbol.iterator]=function(){return this},p.prototype[Symbol.iterator]=function(){return new m(this)}}return p.prototype.formatError=function(e,t){if(null==e){var n=this.buffer.slice(this.index);e={text:n,offset:this.index,lineBreaks:-1===n.indexOf("\n")?0:1,line:this.line,col:this.col}}var r=Math.max(0,e.offset-e.col+1),i=e.lineBreaks?e.text.indexOf("\n"):e.text.length,o=this.buffer.substring(r,e.offset+i);return t+=" at line "+e.line+" col "+e.col+":\n\n",t+="  "+o+"\n",t+="  "+Array(e.col).join(" ")+"^"},p.prototype.clone=function(){return new p(this.states,this.state)},p.prototype.has=function(e){return!0},{compile:function(e){var t=h(u(e));return new p({start:t},"start")},states:function(e,t){var n=e.$all?u(e.$all):[];delete e.$all;var r=Object.getOwnPropertyNames(e);t||(t=r[0]);for(var i=Object.create(null),o=0;o<r.length;o++)i[b=r[o]]=u(e[b]).concat(n);for(o=0;o<r.length;o++)for(var s=i[b=r[o]],l=Object.create(null),a=0;a<s.length;a++){var c=s[a];if(c.include){var g=[a,1];if(c.include!==b&&!l[c.include]){l[c.include]=!0;var d=i[c.include];if(!d)throw new Error("Cannot include nonexistent state '"+c.include+"' (in state '"+b+"')");for(var m=0;m<d.length;m++){var v=d[m];-1===s.indexOf(v)&&g.push(v)}}s.splice.apply(s,g),a--}}var y=Object.create(null);for(o=0;o<r.length;o++){var b;y[b=r[o]]=h(i[b],!0)}for(o=0;o<r.length;o++){var w=r[o],x=y[w],k=x.groups;for(a=0;a<k.length;a++)f(k[a],w,y);var _=Object.getOwnPropertyNames(x.fast);for(a=0;a<_.length;a++)f(x.fast[_[a]],w,y)}return new p(y,t)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function(e){for(var t=Object.create(null),n=Object.create(null),r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var o=r[i],s=e[o];(Array.isArray(s)?s:[s]).forEach((function(e){if((n[e.length]=n[e.length]||[]).push(e),"string"!=typeof e)throw new Error("keyword must be string (in keyword '"+o+"')");t[e]=o}))}function l(e){return JSON.stringify(e)}var a="";for(var u in a+="switch (value.length) {\n",n){var c=n[u];a+="case "+u+":\n",a+="switch (value) {\n",c.forEach((function(e){var n=t[e];a+="case "+l(e)+": return "+l(n)+"\n"})),a+="}\n"}return a+="}\n",Function("value",a)}}},e.exports?e.exports=n():t.moo=n()}));function K(e){return{type:"keyword",text:e,value:e.toLowerCase()}}function F(e){return{type:"number",text:""+e,value:e}}const G=D.compile({whitespace:[/[ \t]+/,{match:/\n/,lineBreaks:!0}],comment:[/--.*?$/,/\/\*[^]*?\*\//],lparen:"(",rparen:")",comma:",",period:".",number:/0|[1-9][0-9]*/,terminator:[";","\\g"],quotedIdentifier:[{match:/".*?"/,value:e=>e.slice(1,-1)},{match:/\[.*?\]/,value:e=>e.slice(1,-1)}],string:/'(?:\\['\\]|[^\n'\\])*'/,identifier:{match:/[a-zA-Z_0-9]+/,type:(e=>{const t=D.keywords(e);return e=>t(e.toLowerCase())})({keyword:["absolute","action","ada","add","all","allocate","alter","and","any","are","as","asc","assertion","at","authorization","avg","backup","begin","between","bit","bit_length","both","break","browse","bulk","by","cascade","cascaded","case","cast","catalog","char","char_length","character","character_length","check","checkpoint","close","clustered","coalesce","collate","collation","column","commit","compute","connect","connection","constraint","constraints","contains","containstable","continue","convert","corresponding","count","create","cross","current","current_date","current_time","current_timestamp","current_user","cursor","database","date","day","dbcc","deallocate","dec","decimal","declare","default","deferrable","deferred","delete","deny","desc","describe","descriptor","diagnostics","disconnect","disk","distinct","distributed","domain","double","drop","dump","else","end","end-exec","errlvl","escape","except","exception","exec","execute","exists","exit","external","extract","false","fetch","file","fillfactor","first","float","for","foreign","fortran","found","freetext","freetexttable","from","full","function","get","global","go","goto","grant","group","having","holdlock","hour","identity","identity_insert","identitycol","if","immediate","in","include","index","indicator","initially","inner","input","insensitive","insert","int","integer","intersect","interval","into","is","isolation","join","key","kill","language","last","leading","left","level","like","limit","lineno","load","local","lower","match","max","merge","min","minute","module","month","names","national","natural","nchar","next","no","nocheck","nonclustered","none","not","null","nullif","numeric","octet_length","of","off","offset","offsets","on","only","open","opendatasource","openquery","openrowset","openxml","option","or","order","outer","output","over","overlaps","pad","partial","pascal","percent","pivot","plan","position","precision","prepare","preserve","primary","print","prior","privileges","proc","procedure","public","raiserror","read","readtext","real","reconfigure","references","relative","replication","restore","restrict","return","revert","revoke","right","right","rollback","rowcount","rowguidcol","rows","rule","save","schema","scroll","second","section","securityaudit","select","semantickeyphrasetable","semanticsimilaritydetailstable","semanticsimilaritytable","session","session_user","set","setuser","shutdown","size","smallint","some","space","sql","sqlca","sqlcode","sqlerror","sqlstate","sqlwarning","statistics","substring","sum","system_user","table","tablesample","temporary","textsize","then","time","timestamp","timezone_hour","timezone_minute","to","top","trailing","tran","transaction","translate","translation","trigger","trim","true","truncate","try_convert","tsequal","union","unique","unknown","unpivot","update","updatetext","upper","usage","use","user","using","value","values","varchar","varying","view","waitfor","when","whenever","where","while","with","within group","work","write","writetext","year","zone"]}),value:e=>e.toLowerCase()},operator:{match:/[<>~!@#$%^?&|`*\-{}+=:/\\[\]]+/,lineBreaks:!1}});function U(e){const t=[];G.reset(e);let n=G.next();for(;n;)t.push(n),n=G.next();return t}function H(e){const t=U(e),n=[];let r=[];return t.forEach(e=>{r.push(e),"terminator"===e.type&&(n.push(r),r=[])}),r.length&&n.push(r),n}function Q(e=[]){let t,n,r=0,i="";for(let o=0;o<e.length;o++){const s=e[o];"lparen"===s.type?r++:"rparen"===s.type?r--:"keyword"===s.type&&(void 0===t&&(t=r),i||t!==r||"with"===s.value||"as"===s.value||(i=s.value,n=o,o=e.length))}return{statementkeywordIndex:n,statementKeyword:i,targetParenLevel:t}}function Z(e,t){const n=["whitespace","comment"];for(let r=t;r<e.length;r++){const t=e[r];if(!n.includes(t.type))return{...t,index:r}}return null}function J(e,t,n=[]){let r=0;for(let i=e.length-1;i>=0;i--){const o=e[i];if("rparen"===o.type)r++;else if("lparen"===o.type)r--;else if("keyword"===o.type&&r===t&&!n.includes(o.value))return{...o,index:i}}return null}var V={enforceLimit:function(e,t){const{statementKeyword:n,targetParenLevel:r}=Q(e);if("select"!==n)return e;const i=J(e,r,["offset"]);if("limit"!==i.value){const n=[K("limit"),{type:"whitespace",text:" ",value:" "},F(t)],i=J(e,r);if("offset"===i.value){const t=e.slice(0,i.index),r=e.slice(i.index);return[...t,...n,{type:"whitespace",text:" ",value:" "},...r]}if("terminator"===e[e.length-1].type){const t=e.slice(0,e.length-1),r=e.slice(e.length-1);return[...t,{type:"whitespace",text:" ",value:" "},...n,...r]}return[...e,{type:"whitespace",text:" ",value:" "},...n]}const o=Z(e,i.index+1);if(!o)throw new Error("Unexpected end of statement");if("number"!==o.type)throw new Error("Expected number got "+o.type);if(parseInt(o.value,10)>t){const n=e.slice(0,o.index),r=e.slice(o.index+1);return[...n,{...o,text:t,value:t},...r]}return e},enforceTopOrFirst:function(e,t="",n){const{statementKeyword:r,statementkeywordIndex:i}=Q(e);if("select"!==r)return e;const o=function(e,t){let n=0;for(let r=t;r<e.length;r++){const t=e[r];if("lparen"===t.type)n++;else if("rparen"===t.type)n--;else if("keyword"===t.type&&0===n)return{...t,index:r}}return null}(e,i+1);if(o.value!==t.toLowerCase()){const r=[{type:"whitespace",text:" ",value:" "},K(t),{type:"whitespace",text:" ",value:" "},F(n),{type:"whitespace",text:" ",value:" "}];return[...e.slice(0,i+1),...r,...e.slice(i+1)]}const s=Z(e,o.index+1);if(!s)throw new Error("Unexpected end of statement");if("number"!==s.type)throw new Error("Expected number got "+s.type);if(parseInt(s.value,10)>n){const t=e.slice(0,s.index),r=e.slice(s.index+1);return[...t,{...s,text:n,value:n},...r]}return e},getQueries:function(e,t=!1){const n=[];return H(e).forEach(e=>{if(e.filter(e=>"whitespace"!==e.type&&"terminator"!==e.type).length>0)if(t){const t=e.map(e=>e.text).join("");n.push(t)}else{const t=e.filter(e=>"terminator"!==e.type).map(e=>e.text).join("");n.push(t)}}),n},getQueriesTokens:H,getStatementType:Q,tokenize:U};const{getQueriesTokens:X,enforceTopOrFirst:W,enforceLimit:Y}=V,ee=["limit","first","top"];var te={limit:function(e,t,n){if("string"!=typeof e)throw new Error("sqlText must be string");if("string"!=typeof t)throw new Error("limitKeyword must be string");if("number"!=typeof n)throw new Error("limitNumber must be number");const r=t.toLowerCase();if(!ee.includes(r))throw new Error("limitKeyword must be one of "+ee.join(", "));let i="";return X(e).forEach(e=>{let o=[];o="top"===r||"first"===r?W(e,t,n):Y(e,n),i+=o.map(e=>e.text).join("")}),i},getStatements:function(e){if("string"!=typeof e)throw new Error("sqlText must be string");return X(e).map(e=>e.map(e=>e.text).join(""))},removeTerminator:function(e){if("string"!=typeof e)throw new Error("sqlText must be string");const t=X(e).map(e=>e.filter(e=>"terminator"!==e.type).map(e=>e.text).join("")).filter(e=>""!==e.trim());if(t.length>1)throw new Error("Multiple statements detected");return t[0]}};function ne(e){e=e||{};this.Timeout=e.timeout||1,this.EditCost=e.editCost||4}ne.prototype.main=function(e,t,n,r){void 0===r&&(r=this.Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Timeout);var i=r;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[[0,e]]:[];void 0===n&&(n=!0);var o=n,s=this.commonPrefix(e,t),l=e.substring(0,s);e=e.substring(s),t=t.substring(s),s=this.commonSuffix(e,t);var a=e.substring(e.length-s);e=e.substring(0,e.length-s),t=t.substring(0,t.length-s);var u=this.compute_(e,t,o,i);return l&&u.unshift([0,l]),a&&u.push([0,a]),this.cleanupMerge(u),u},ne.prototype.compute_=function(e,t,n,r){var i;if(!e)return[[1,t]];if(!t)return[[-1,e]];var o=e.length>t.length?e:t,s=e.length>t.length?t:e,l=o.indexOf(s);if(-1!=l)return i=[[1,o.substring(0,l)],[0,s],[1,o.substring(l+s.length)]],e.length>t.length&&(i[0][0]=i[2][0]=-1),i;if(1==s.length)return[[-1,e],[1,t]];var a=this.halfMatch_(e,t);if(a){var u=a[0],c=a[1],h=a[2],f=a[3],p=a[4],g=this.main(u,h,n,r),d=this.main(c,f,n,r);return g.concat([[0,p]],d)}return n&&e.length>100&&t.length>100?this.lineMode_(e,t,r):this.bisect_(e,t,r)},ne.prototype.lineMode_=function(e,t,n){e=(c=this.linesToChars_(e,t)).chars1,t=c.chars2;var r=c.lineArray,i=this.main(e,t,!1,n);this.charsToLines_(i,r),this.cleanupSemantic(i),i.push([0,""]);for(var o=0,s=0,l=0,a="",u="";o<i.length;){switch(i[o][0]){case 1:l++,u+=i[o][1];break;case-1:s++,a+=i[o][1];break;case 0:if(s>=1&&l>=1){i.splice(o-s-l,s+l),o=o-s-l;for(var c,h=(c=this.main(a,u,!1,n)).length-1;h>=0;h--)i.splice(o,0,c[h]);o+=c.length}l=0,s=0,a="",u=""}o++}return i.pop(),i},ne.prototype.bisect_=function(e,t,n){for(var r=e.length,i=t.length,o=Math.ceil((r+i)/2),s=o,l=2*o,a=new Array(l),u=new Array(l),c=0;c<l;c++)a[c]=-1,u[c]=-1;a[s+1]=0,u[s+1]=0;for(var h=r-i,f=h%2!=0,p=0,g=0,d=0,m=0,v=0;v<o&&!((new Date).getTime()>n);v++){for(var y=-v+p;y<=v-g;y+=2){for(var b=s+y,w=($=y==-v||y!=v&&a[b-1]<a[b+1]?a[b+1]:a[b-1]+1)-y;$<r&&w<i&&e.charAt($)==t.charAt(w);)$++,w++;if(a[b]=$,$>r)g+=2;else if(w>i)p+=2;else if(f){if((_=s+h-y)>=0&&_<l&&-1!=u[_])if($>=(k=r-u[_]))return this.bisectSplit_(e,t,$,w,n)}}for(var x=-v+d;x<=v-m;x+=2){for(var k,_=s+x,E=(k=x==-v||x!=v&&u[_-1]<u[_+1]?u[_+1]:u[_-1]+1)-x;k<r&&E<i&&e.charAt(r-k-1)==t.charAt(i-E-1);)k++,E++;if(u[_]=k,k>r)m+=2;else if(E>i)d+=2;else if(!f){if((b=s+h-x)>=0&&b<l&&-1!=a[b]){var $;w=s+($=a[b])-b;if($>=(k=r-k))return this.bisectSplit_(e,t,$,w,n)}}}}return[[-1,e],[1,t]]},ne.prototype.bisectSplit_=function(e,t,n,r,i){var o=e.substring(0,n),s=t.substring(0,r),l=e.substring(n),a=t.substring(r),u=this.main(o,s,!1,i),c=this.main(l,a,!1,i);return u.concat(c)},ne.prototype.linesToChars_=function(e,t){var n=[],r={};function i(e){for(var t="",i=0,o=-1,s=n.length;o<e.length-1;){-1==(o=e.indexOf("\n",i))&&(o=e.length-1);var l=e.substring(i,o+1);i=o+1,(r.hasOwnProperty?r.hasOwnProperty(l):void 0!==r[l])?t+=String.fromCharCode(r[l]):(t+=String.fromCharCode(s),r[l]=s,n[s++]=l)}return t}return n[0]="",{chars1:i(e),chars2:i(t),lineArray:n}},ne.prototype.charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n][1],i=[],o=0;o<r.length;o++)i[o]=t[r.charCodeAt(o)];e[n][1]=i.join("")}},ne.prototype.commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},ne.prototype.commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},ne.prototype.commonOverlap_=function(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var i=Math.min(n,r);if(e==t)return i;for(var o=0,s=1;;){var l=e.substring(i-s),a=t.indexOf(l);if(-1==a)return o;s+=a,0!=a&&e.substring(i-s)!=t.substring(0,s)||(o=s,s++)}},ne.prototype.halfMatch_=function(e,t){if(this.Timeout<=0)return null;var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;var i=this;function o(e,t,n){for(var r,o,s,l,a=e.substring(n,n+Math.floor(e.length/4)),u=-1,c="";-1!=(u=t.indexOf(a,u+1));){var h=i.commonPrefix(e.substring(n),t.substring(u)),f=i.commonSuffix(e.substring(0,n),t.substring(0,u));c.length<f+h&&(c=t.substring(u-f,u)+t.substring(u,u+h),r=e.substring(0,n-f),o=e.substring(n+h),s=t.substring(0,u-f),l=t.substring(u+h))}return 2*c.length>=e.length?[r,o,s,l,c]:null}var s,l,a,u,c,h=o(n,r,Math.ceil(n.length/4)),f=o(n,r,Math.ceil(n.length/2));return h||f?(s=f?h&&h[4].length>f[4].length?h:f:h,e.length>t.length?(l=s[0],a=s[1],u=s[2],c=s[3]):(u=s[0],c=s[1],l=s[2],a=s[3]),[l,a,u,c,s[4]]):null},ne.prototype.cleanupSemantic=function(e){for(var t=!1,n=[],r=0,i=null,o=0,s=0,l=0,a=0,u=0;o<e.length;)0==e[o][0]?(n[r++]=o,s=a,l=u,a=0,u=0,i=e[o][1]):(1==e[o][0]?a+=e[o][1].length:u+=e[o][1].length,i&&i.length<=Math.max(s,l)&&i.length<=Math.max(a,u)&&(e.splice(n[r-1],0,[-1,i]),e[n[r-1]+1][0]=1,r--,o=--r>0?n[r-1]:-1,s=0,l=0,a=0,u=0,i=null,t=!0)),o++;for(t&&this.cleanupMerge(e),this.cleanupSemanticLossless(e),o=1;o<e.length;){if(-1==e[o-1][0]&&1==e[o][0]){var c=e[o-1][1],h=e[o][1],f=this.commonOverlap_(c,h),p=this.commonOverlap_(h,c);f>=p?(f>=c.length/2||f>=h.length/2)&&(e.splice(o,0,[0,h.substring(0,f)]),e[o-1][1]=c.substring(0,c.length-f),e[o+1][1]=h.substring(f),o++):(p>=c.length/2||p>=h.length/2)&&(e.splice(o,0,[0,c.substring(0,p)]),e[o-1][0]=1,e[o-1][1]=h.substring(0,h.length-p),e[o+1][0]=-1,e[o+1][1]=c.substring(p),o++),o++}o++}},ne.prototype.cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),r=t.charAt(0),i=n.match(ne.nonAlphaNumericRegex_),o=r.match(ne.nonAlphaNumericRegex_),s=i&&n.match(ne.whitespaceRegex_),l=o&&r.match(ne.whitespaceRegex_),a=s&&n.match(ne.linebreakRegex_),u=l&&r.match(ne.linebreakRegex_),c=a&&e.match(ne.blanklineEndRegex_),h=u&&t.match(ne.blanklineStartRegex_);return c||h?5:a||u?4:i&&!s&&l?3:s||l?2:i||o?1:0}for(var n=1;n<e.length-1;){if(0==e[n-1][0]&&0==e[n+1][0]){var r=e[n-1][1],i=e[n][1],o=e[n+1][1],s=this.commonSuffix(r,i);if(s){var l=i.substring(i.length-s);r=r.substring(0,r.length-s),i=l+i.substring(0,i.length-s),o=l+o}for(var a=r,u=i,c=o,h=t(r,i)+t(i,o);i.charAt(0)===o.charAt(0);){r+=i.charAt(0),i=i.substring(1)+o.charAt(0),o=o.substring(1);var f=t(r,i)+t(i,o);f>=h&&(h=f,a=r,u=i,c=o)}e[n-1][1]!=a&&(a?e[n-1][1]=a:(e.splice(n-1,1),n--),e[n][1]=u,c?e[n+1][1]=c:(e.splice(n+1,1),n--))}n++}},ne.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,ne.whitespaceRegex_=/\s/,ne.linebreakRegex_=/[\r\n]/,ne.blanklineEndRegex_=/\n\r?\n$/,ne.blanklineStartRegex_=/^\r?\n\r?\n/,ne.prototype.cleanupEfficiency=function(e){for(var t=!1,n=[],r=0,i=null,o=0,s=!1,l=!1,a=!1,u=!1;o<e.length;)0==e[o][0]?(e[o][1].length<this.EditCost&&(a||u)?(n[r++]=o,s=a,l=u,i=e[o][1]):(r=0,i=null),a=u=!1):(-1==e[o][0]?u=!0:a=!0,i&&(s&&l&&a&&u||i.length<this.EditCost/2&&s+l+a+u==3)&&(e.splice(n[r-1],0,[-1,i]),e[n[r-1]+1][0]=1,r--,i=null,s&&l?(a=u=!0,r=0):(o=--r>0?n[r-1]:-1,a=u=!1),t=!0)),o++;t&&this.cleanupMerge(e)},ne.prototype.cleanupMerge=function(e){e.push([0,""]);for(var t,n=0,r=0,i=0,o="",s="";n<e.length;)switch(e[n][0]){case 1:i++,s+=e[n][1],n++;break;case-1:r++,o+=e[n][1],n++;break;case 0:r+i>1?(0!==r&&0!==i&&(0!==(t=this.commonPrefix(s,o))&&(n-r-i>0&&0==e[n-r-i-1][0]?e[n-r-i-1][1]+=s.substring(0,t):(e.splice(0,0,[0,s.substring(0,t)]),n++),s=s.substring(t),o=o.substring(t)),0!==(t=this.commonSuffix(s,o))&&(e[n][1]=s.substring(s.length-t)+e[n][1],s=s.substring(0,s.length-t),o=o.substring(0,o.length-t))),0===r?e.splice(n-i,r+i,[1,s]):0===i?e.splice(n-r,r+i,[-1,o]):e.splice(n-r-i,r+i,[-1,o],[1,s]),n=n-r-i+(r?1:0)+(i?1:0)+1):0!==n&&0==e[n-1][0]?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,i=0,r=0,o="",s=""}""===e[e.length-1][1]&&e.pop();var l=!1;for(n=1;n<e.length-1;)0==e[n-1][0]&&0==e[n+1][0]&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),l=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),l=!0)),n++;l&&this.cleanupMerge(e)},ne.prototype.xIndex=function(e,t){var n,r=0,i=0,o=0,s=0;for(n=0;n<e.length&&(1!==e[n][0]&&(r+=e[n][1].length),-1!==e[n][0]&&(i+=e[n][1].length),!(r>t));n++)o=r,s=i;return e.length!=n&&-1===e[n][0]?s:s+(t-o)},ne.prototype.prettyHtml=function(e){for(var t=[],n=/&/g,r=/</g,i=/>/g,o=/\n/g,s=0;s<e.length;s++){var l=e[s][0],a=e[s][1].replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(o,"<br/>");switch(l){case 1:t[s]="<ins>"+a+"</ins>";break;case-1:t[s]="<del>"+a+"</del>";break;case 0:t[s]="<span>"+a+"</span>"}}return t.join("")},ne.prototype.text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},ne.prototype.text2=function(e){for(var t=[],n=0;n<e.length;n++)-1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},ne.prototype.levenshtein=function(e){for(var t=0,n=0,r=0,i=0;i<e.length;i++){var o=e[i][0],s=e[i][1];switch(o){case 1:n+=s.length;break;case-1:r+=s.length;break;case 0:t+=Math.max(n,r),n=0,r=0}}return t+=Math.max(n,r)},ne.prototype.toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case 1:t[n]="+"+encodeURI(e[n][1]);break;case-1:t[n]="-"+e[n][1].length;break;case 0:t[n]="="+e[n][1].length}return t.join("\t").replace(/%20/g," ")},ne.prototype.fromDelta=function(e,t){for(var n=[],r=0,i=0,o=t.split(/\t/g),s=0;s<o.length;s++){var l=o[s].substring(1);switch(o[s].charAt(0)){case"+":try{n[r++]=[1,decodeURI(l)]}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var a=parseInt(l,10);if(isNaN(a)||a<0)throw new Error("Invalid number in diff_fromDelta: "+l);var u=e.substring(i,i+=a);"="==o[s].charAt(0)?n[r++]=[0,u]:n[r++]=[-1,u];break;default:if(o[s])throw new Error("Invalid diff operation in diff_fromDelta: "+o[s])}}if(i!=e.length)throw new Error("Delta length ("+i+") does not equal source text length ("+e.length+").");return n},B.diff=ne,B.DIFF_DELETE=-1,B.DIFF_INSERT=1,B.DIFF_EQUAL=0;var re=ne;function ie(t){let n;return{c(){n=u("a"),n.innerHTML='<svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0;\n    right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6\n      120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3\n      125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm svelte-9fn96p"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6\n      C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0\n      C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1\n      C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4\n      C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9\n      C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5\n      C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9\n      L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg>',p(n,"href","https://github.com/rickbergfalk/sql-limiter"),p(n,"class","github-corner svelte-9fn96p"),p(n,"aria-label","View source on GitHub")},m(e,t){l(e,n,t)},p:e,i:e,o:e,d(e){e&&a(n)}}}class oe extends P{constructor(e){super(),I(this,e,null,ie,o,{})}}function se(e){let t;return{c(){t=new v(e[0],null)},m(e,n){t.m(e,n)},p(e,n){1&n&&t.p(e[0])},d(e){e&&t.d()}}}function le(e){let t,n;return{c(){t=u("span"),n=c(e[1]),p(t,"class","error svelte-uyagut")},m(e,r){l(e,t,r),s(t,n)},p(e,t){2&t&&function(e,t){t=""+t,e.data!==t&&(e.data=t)}(n,e[1])},d(e){e&&a(t)}}}function ae(t){let n;function r(e,t){return e[1]?le:se}let i=r(t),o=i(t);return{c(){o.c(),n=c("")},m(e,t){o.m(e,t),l(e,n,t)},p(e,[t]){i===(i=r(e))&&o?o.p(e,t):(o.d(1),o=i(e),o&&(o.c(),o.m(n.parentNode,n)))},i:e,o:e,d(e){o.d(e),e&&a(n)}}}function ue(e,t,n){let r,i,o,{sql:s=""}=t,{limitKeyword:l=""}=t,{limitNumber:a=100}=t,u=new re,c="";return e.$set=e=>{"sql"in e&&n(2,s=e.sql),"limitKeyword"in e&&n(3,l=e.limitKeyword),"limitNumber"in e&&n(4,a=e.limitNumber)},e.$$.update=()=>{if(124&e.$$.dirty)try{n(1,o=null),n(5,c=te.limit(s,l,a)),n(6,r=u.main(s,c)),n(0,i=u.prettyHtml(r))}catch(e){n(1,o=e)}},[i,o,s,l,a]}class ce extends P{constructor(e){super(),I(this,e,ue,ae,o,{sql:2,limitKeyword:3,limitNumber:4})}}function he(e){let t,n,i,o,c,v,y,b,w,x,k,_,E,$,T,A,S,q,O,N,I,P,B,D,K,F,G,U,H,Q;const Z=new oe({}),J=new ce({props:{sql:e[2],limitKeyword:e[0],limitNumber:e[1]}});return{c(){t=u("main"),R(Z.$$.fragment),n=h(),i=u("div"),i.innerHTML='<div class="col-100 m8 svelte-1onae4z"><h1 class="svelte-1onae4z">sql-limiter</h1></div>',o=h(),c=u("div"),v=u("div"),y=u("label"),y.textContent="limit keyword",b=h(),w=u("select"),x=u("option"),x.textContent="limit",k=u("option"),k.textContent="top",_=u("option"),_.textContent="first",E=h(),$=u("div"),T=u("label"),T.textContent="limit number",A=h(),S=u("input"),q=h(),O=u("div"),N=u("div"),I=u("label"),I.textContent="input",P=h(),B=u("textarea"),D=h(),K=u("div"),F=u("label"),F.textContent="result",G=h(),U=u("pre"),R(J.$$.fragment),p(i,"class","row svelte-1onae4z"),p(y,"for","limit-keyword"),p(y,"class","svelte-1onae4z"),x.__value="limit",x.value=x.__value,k.__value="top",k.value=k.__value,_.__value="first",_.value=_.__value,p(w,"id","limit-keyword"),p(w,"class","input svelte-1onae4z"),void 0===e[0]&&C(()=>e[3].call(w)),p(v,"class","m8 svelte-1onae4z"),p(T,"for","limit-number"),p(T,"class","svelte-1onae4z"),p(S,"id","limit-number"),p(S,"class","input svelte-1onae4z"),p(S,"type","number"),p($,"class","m8 svelte-1onae4z"),p(c,"class","row svelte-1onae4z"),p(I,"for","sql-in"),p(I,"class","svelte-1onae4z"),p(B,"id","sql-in"),p(B,"class","sql svelte-1onae4z"),p(B,"rows","15"),p(N,"class","col-50 m8 svelte-1onae4z"),p(F,"class","svelte-1onae4z"),p(U,"class","sql out svelte-1onae4z"),p(K,"class","col-50 m8 svelte-1onae4z"),p(O,"class","row svelte-1onae4z")},m(a,u,h){l(a,t,u),L(Z,t,null),s(t,n),s(t,i),s(t,o),s(t,c),s(c,v),s(v,y),s(v,b),s(v,w),s(w,x),s(w,k),s(w,_),m(w,e[0]),s(c,E),s(c,$),s($,T),s($,A),s($,S),d(S,e[1]),s(t,q),s(t,O),s(O,N),s(N,I),s(N,P),s(N,B),d(B,e[2]),s(O,D),s(O,K),s(K,F),s(K,G),s(K,U),L(J,U,null),H=!0,h&&r(Q),Q=[f(w,"change",e[3]),f(S,"input",e[4]),f(B,"input",e[5])]},p(e,[t]){1&t&&m(w,e[0]),2&t&&g(S.value)!==e[1]&&d(S,e[1]),4&t&&d(B,e[2]);const n={};4&t&&(n.sql=e[2]),1&t&&(n.limitKeyword=e[0]),2&t&&(n.limitNumber=e[1]),J.$set(n)},i(e){H||(M(Z.$$.fragment,e),M(J.$$.fragment,e),H=!0)},o(e){j(Z.$$.fragment,e),j(J.$$.fragment,e),H=!1},d(e){e&&a(t),z(Z),z(J),r(Q)}}}function fe(e,t,n){let r="limit",i=100,o="SELECT * FROM some_table;";return[r,i,o,function(){r=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(0,r)},function(){i=g(this.value),n(1,i)},function(){o=this.value,n(2,o)}]}return new class extends P{constructor(e){super(),I(this,e,fe,he,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
